
remove-frames-content.js application/javascript
(function() {
	function inIframe() {
		try {
			return window.self !== window.top;
		} catch (e) {}
		return true;
	}
	function doRemoval(async) {
		var url = 'unknown';
		var removedBody = false;
		var removedHead = false;
		try {
			url = window.location.href || url;
		} catch (e) {};
		try {
			document.body.parentNode.removeChild(document.body);
			removedBody = true;
		} catch (e) {};
		try {
			document.head.parentNode.removeChild(document.head);
			removedHead = true;
		} catch (e) {};
		console.log('uBO> Removed frame contents [ASYNC:%s] [HEAD:%s] [BODY:%s] [URL:%s]', async, removedHead, removedBody, url);
	}
	if (inIframe()) {
		if (document.body && document.head) {
			doRemoval(false);
		} else {
			setTimeout(function() {
				doRemoval(true);
			}, 0);
		}
	}
})();